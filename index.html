<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Bus Star BD - friendall Edition</title>
    <style>
        :root { --neon: #00ff88; --bg: #0a0a0a; }
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; background: var(--bg); color: white; font-family: 'Segoe UI', sans-serif; }
        
        /* 1. Loading Screen */
        #loading { position: fixed; inset: 0; background: #000; display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 2000; }
        .logo { font-size: 50px; font-weight: bold; color: var(--neon); text-shadow: 0 0 20px var(--neon); }
        .loader { width: 220px; height: 10px; background: #222; border-radius: 10px; margin-top: 20px; overflow: hidden; }
        .bar { width: 0%; height: 100%; background: var(--neon); transition: 0.1s; }

        /* 2. Menu UI */
        .screen { display: none; position: absolute; inset: 0; flex-direction: column; align-items: center; padding: 20px; background: radial-gradient(circle, #1a1a1a, #000); overflow-y: auto; }
        .active { display: flex; }
        .money-tag { position: fixed; top: 20px; right: 20px; background: rgba(0,0,0,0.8); padding: 10px 20px; border-radius: 30px; border: 2px solid gold; color: gold; font-weight: bold; font-size: 20px; z-index: 100; }
        
        .btn { width: 85%; max-width: 300px; background: var(--neon); color: black; padding: 15px; border-radius: 30px; border: none; font-weight: bold; margin: 10px 0; cursor: pointer; font-size: 16px; }
        .btn-locked { background: #333; color: #777; cursor: not-allowed; }

        /* 3. Gameplay UI */
        #gameUI { display: none; position: fixed; inset: 0; pointer-events: none; }
        .overlay-top { position: absolute; top: 20px; left: 20px; display: flex; gap: 15px; pointer-events: auto; }
        .mini-map { width: 80px; height: 80px; background: rgba(255,255,255,0.1); border: 2px solid white; border-radius: 10px; position: relative; }
        .map-icon { position: absolute; color: red; font-size: 12px; }

        /* Controls */
        .controls { position: absolute; bottom: 20px; width: 100%; display: flex; justify-content: space-between; padding: 0 20px; box-sizing: border-box; pointer-events: auto; }
        #wheel { width: 130px; height: 130px; background: url('https://img.icons8.com/ios-filled/150/ffffff/steering-wheel.png') no-repeat center; background-size: contain; transition: 0.1s; }
        
        .btn-side { width: 55px; height: 55px; background: rgba(0,0,0,0.6); border: 2px solid white; border-radius: 50%; color: white; display: flex; align-items: center; justify-content: center; margin-bottom: 10px; cursor: pointer; pointer-events: auto; }
        
        .pedals { display: flex; gap: 15px; align-items: flex-end; }
        .pedal { width: 75px; height: 110px; border-radius: 10px; display: flex; align-items: center; justify-content: center; font-weight: bold; border: 3px solid #444; }
        
        /* Effects */
        #rainEffect { position: fixed; inset: 0; pointer-events: none; display: none; background: url('https://www.transparenttextures.com/patterns/carbon-fibre.png'); opacity: 0.3; }
        .wiper { position: absolute; bottom: 40%; left: 50%; width: 150px; height: 5px; background: black; transform-origin: left; display: none; }
        .wiper-anim { animation: wipe 1.5s infinite linear; display: block; }
        @keyframes wipe { 0%, 100% { transform: rotate(0deg); } 50% { transform: rotate(110deg); } }

        /* Dance Screen */
        #danceScreen { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.8); z-index: 1000; align-items: center; justify-content: center; flex-direction: column; }
        .driver-box { font-size: 80px; animation: danceAnim 0.5s infinite alternate; }
        @keyframes danceAnim { from { transform: translateY(0); } to { transform: translateY(-30px); } }
    </style>
</head>
<body>

    <div id="loading">
        <div class="logo">friendall</div>
        <p>‡¶®‡¶§‡ßÅ‡¶® ‡¶™‡ßç‡¶≤‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶¨‡ßã‡¶®‡¶æ‡¶∏ ‡ß≥‡ßß‡ß¶‡ß¶‡ß¶ ‡¶Ø‡ßã‡¶ó ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</p>
        <div class="loader"><div class="bar" id="loadBar"></div></div>
    </div>

    <div class="money-tag">‡ß≥ <span id="mVal">0</span></div>

    <div id="menu" class="screen">
        <h2 style="margin-top: 80px; color: var(--neon);">Bus Star Bangladesh</h2>
        <button class="btn" onclick="startMode('career')">Career Mode (‡¶Ø‡¶æ‡¶§‡ßç‡¶∞‡ßÄ ‡¶∏‡ßá‡¶¨‡¶æ)</button>
        <button class="btn" style="background:#444; color:white;" onclick="startMode('free')">Free Mode (‡¶Ö‡¶´‡¶≤‡¶æ‡¶á‡¶®)</button>
        <button class="btn btn-locked">Multiplayer (Coming Soon)</button>
        
        <div style="margin-top: 20px; text-align: center; border: 1px solid #333; padding: 15px; border-radius: 15px;">
            <p>‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ó‡ßç‡¶Ø‡¶æ‡¶∞‡ßá‡¶ú</p>
            <div style="display: flex; gap: 10px;">
                <div style="width: 80px; height: 40px; background: green; border: 2px solid white;"></div>
                <span>Local Bus (Free)</span>
            </div>
        </div>
    </div>

    <div id="gameUI">
        <div id="rainEffect"></div>
        <div class="wiper" id="wiperLine"></div>

        <div class="overlay-top">
            <div class="mini-map">
                <span class="map-icon" id="targetFlag" style="top:10px; right:10px;">üö©</span>
                <span class="map-icon" style="bottom:5px; left:40%;">‚ñ≤</span>
            </div>
            <div class="btn-side" style="background: orange;" onclick="towTruck()">üõª</div>
            <div class="btn-side" style="background: #333;" onclick="changeCam()">üé•</div>
        </div>

        <div style="position: absolute; right: 20px; top: 120px; display: flex; flex-direction: column; gap: 8px;">
            <div class="btn-side" onclick="toggleLights()">üí°</div>
            <div class="btn-side" onclick="toggleRain()">‚òÅÔ∏è</div>
            <div class="btn-side" onclick="toggleWiper()">üöø</div>
            <div class="btn-side" style="background:gold; color:black;" onclick="playHorn(1)">H1</div>
            <div class="btn-side" style="background:gold; color:black;" onclick="playHorn(2)">H2</div>
        </div>

        <div class="controls">
            <div id="wheel"></div>
            <div class="pedals">
                <div class="pedal" style="background: #b71c1c; height: 70px;" onclick="hardBrake()">HARD<br>BRK</div>
                <div class="pedal" style="background: #1b5e20;">RACE</div>
            </div>
        </div>
    </div>

    <div id="danceScreen">
        <div class="driver-box">üï∫</div>
        <h2 style="color: gold;">‡¶°‡ßç‡¶∞‡¶æ‡¶á‡¶≠‡¶æ‡¶∞ ‡¶®‡¶æ‡¶ö‡¶õ‡ßá!</h2>
        <p>‡¶Ø‡¶æ‡¶§‡ßç‡¶∞‡ßÄ‡¶∞‡¶æ ‡¶Ü‡¶®‡¶®‡ßç‡¶¶‡¶ø‡¶§ (+‡ß≥‡ßß‡ß¶ ‡¶¨‡ßã‡¶®‡¶æ‡¶∏)</p>
        <button class="btn" onclick="stopDance()">‡¶®‡¶æ‡¶ö ‡¶•‡¶æ‡¶Æ‡¶ø‡ßü‡ßá ‡¶¨‡¶æ‡¶∏ ‡¶ö‡¶æ‡¶≤‡¶æ‡¶®</button>
    </div>

    <script>
        // Game State
        let money = 1000; // New player bonus
        let currentMode = '';
        let rainOn = false;
        let wiperOn = false;
        let lightsOn = false;

        // Init Loading
        let p = 0;
        let loadInt = setInterval(() => {
            p += 2;
            document.getElementById('loadBar').style.width = p + "%";
            if(p >= 100) {
                clearInterval(loadInt);
                document.getElementById('loading').style.display = 'none';
                document.getElementById('menu').classList.add('active');
                updateMoney();
            }
        }, 50);

        function updateMoney() {
            document.getElementById('mVal').innerText = money;
        }

        function startMode(mode) {
            currentMode = mode;
            document.getElementById('menu').classList.remove('active');
            document.getElementById('gameUI').style.display = 'block';
            
            if(mode === 'career') {
                alert("Career Mode: ‡¶ü‡¶æ‡¶∞‡ßç‡¶Æ‡¶ø‡¶®‡¶æ‡¶≤ ‡¶•‡ßá‡¶ï‡ßá ‡¶Ø‡¶æ‡¶§‡ßç‡¶∞‡ßÄ ‡¶§‡ßÅ‡¶≤‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶ó‡¶®‡ßç‡¶§‡¶¨‡ßç‡¶Ø‡ßá ‡¶®‡¶æ‡¶Æ‡¶ø‡ßü‡ßá ‡¶¶‡¶ø‡¶®‡•§");
            } else {
                alert("Free Mode: ‡¶è‡¶ü‡¶ø ‡¶Ö‡¶´‡¶≤‡¶æ‡¶á‡¶® ‡¶Æ‡ßã‡¶°, ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶ï‡ßã‡¶®‡ßã ‡¶Ø‡¶æ‡¶§‡ßç‡¶∞‡ßÄ ‡¶•‡¶æ‡¶ï‡¶¨‡ßá ‡¶®‡¶æ‡•§");
            }
        }

        function toggleRain() {
            rainOn = !rainOn;
            document.getElementById('rainEffect').style.display = rainOn ? 'block' : 'none';
        }

        function toggleWiper() {
            wiperOn = !wiperOn;
            document.getElementById('wiperLine').className = wiperOn ? 'wiper wiper-anim' : 'wiper';
        }

        function toggleLights() {
            lightsOn = !lightsOn;
            alert(lightsOn ? "Headlights ON" : "Headlights OFF");
        }

        function playHorn(type) {
            alert("‡¶π‡¶∞‡ßç‡¶® " + type + " ‡¶¨‡¶æ‡¶ú‡¶õ‡ßá!");
        }

        function hardBrake() {
            alert("‡¶π‡¶æ‡¶∞‡ßç‡¶° ‡¶¨‡ßç‡¶∞‡ßá‡¶ï ‡¶¶‡ßá‡¶ì‡ßü‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá! ‡¶¨‡¶æ‡¶∏ ‡¶•‡ßá‡¶Æ‡ßá ‡¶ó‡ßá‡¶õ‡ßá‡•§");
            document.getElementById('danceScreen').style.display = 'flex';
        }

        function stopDance() {
            money += 10;
            updateMoney();
            document.getElementById('danceScreen').style.display = 'none';
        }

        function towTruck() {
            if(money >= 50) {
                money -= 50;
                updateMoney();
                alert("‡¶ü‡ßü ‡¶ü‡ßç‡¶∞‡¶æ‡¶ï (üõª) ‡¶¨‡¶æ‡¶∏‡¶ü‡¶ø ‡¶â‡¶¶‡ßç‡¶ß‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßá‡¶õ‡ßá‡•§ ‡ß≥‡ß´‡ß¶ ‡¶ï‡¶æ‡¶ü‡¶æ ‡¶π‡¶≤‡ßã‡•§");
            } else {
                alert("‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶õ‡ßá ‡¶™‡¶∞‡ßç‡¶Ø‡¶æ‡¶™‡ßç‡¶§ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶®‡ßá‡¶á!");
            }
        }

        function changeCam() {
            alert("‡¶ï‡ßç‡¶Ø‡¶æ‡¶Æ‡ßá‡¶∞‡¶æ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ô‡ßç‡¶ó‡ßá‡¶≤ ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶π‡¶ö‡ßç‡¶õ‡ßá...");
        }

        // Steering Wheel Simulation
        let angle = 0;
        window.addEventListener('keydown', (e) => {
            if(e.key === 'ArrowLeft') angle -= 20;
            if(e.key === 'ArrowRight') angle += 20;
            document.getElementById('wheel').style.transform = `rotate(${angle}deg)`;
        });
    </script>
</body>
</html>
